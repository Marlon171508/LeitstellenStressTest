<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Leitstellen Stress Test – Notruf Version</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0d1117;
            color: #e6edf3;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        .box {
            background: #161b22;
            padding: 20px;
            border-radius: 10px;
            width: 450px;
            margin: 0 auto;
            box-shadow: 0 0 10px #000;
        }

        input, button {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
        }

        input {
            background: #0d1117;
            border: 1px solid #30363d;
            color: #e6edf3;
        }

        button {
            background: #238636;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background: #2ea043;
        }

        #timer {
            font-size: 28px;
            text-align: center;
            margin-top: 20px;
            color: #ff5555;
        }
    </style>
</head>

<body>

<h1>Leitstellen Stress Test – Notruf Dialog</h1>

<div class="box">
    <h2 id="frage">Drücken Sie auf „Notruf starten“</h2>

    <input id="eingabe" placeholder="Antwort eingeben..." disabled>

    <button onclick="startNotruf()">Notruf starten</button>
    <button onclick="antwortSenden()">Antwort senden</button>

    <h3 id="einsatzTitel"></h3>
    <p id="einsatzDetails"></p>

    <div id="timer"></div>
</div>

<script>
    const fragen = [
        "Notruf, wo genau ist der Notfallort?",
        "Was ist passiert?",
        "Wie viele Verletzte gibt es?",
        "Ist die Person ansprechbar?",
        "Bleiben Sie bitte dran – Hilfe ist unterwegs."
    ];

    const einsaetze = [
        { titel: "Bewusstlose Person", details: "RTW + NEF" },
        { titel: "Verkehrsunfall", details: "2 Verletzte – Feuerwehr + RTW" },
        { titel: "Wohnungsbrand", details: "Feuerwehr + RTW + Polizei" },
        { titel: "Herzinfarkt", details: "RTW + NEF" }
    ];

    let frageIndex = 0;
    let timerInterval;

    function startNotruf() {
        frageIndex = 0;
        document.getElementById("frage").textContent = fragen[frageIndex];
        document.getElementById("eingabe").disabled = false;
        document.getElementById("eingabe").value = "";
        document.getElementById("einsatzTitel").textContent = "";
        document.getElementById("einsatzDetails").textContent = "";
        document.getElementById("timer").textContent = "";
    }

    function antwortSenden() {
        if (frageIndex < fragen.length - 1) {
            frageIndex++;
            document.getElementById("frage").textContent = fragen[frageIndex];
            document.getElementById("eingabe").value = "";
        } else {
            startEinsatz();
        }
    }

    function startEinsatz() {
        const zufall = einsaetze[Math.floor(Math.random() * einsaetze.length)];

        document.getElementById("einsatzTitel").textContent = zufall.titel;
        document.getElementById("einsatzDetails").textContent = zufall.details;

        startTimer(30);
    }

    function startTimer(sekunden) {
        let rest = sekunden;

        timerInterval = setInterval(() => {
            document.getElementById("timer").textContent = rest + " Sekunden";

            if (rest <= 0) {
                clearInterval(timerInterval);
                document.getElementById("timer").textContent = "ZEIT ABGELAUFEN!";
            }

            rest--;
        }, 1000);
    }
</script>

</body>
</html>
